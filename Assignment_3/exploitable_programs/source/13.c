#include <stdio.h>
#include <stdlib.h>
#include <string.h>
int authenticated(char *username, char *password)
{
    char usernamebuf[15];
    int authu = 0;
    char passwordbuf[15];
    int authp = 0;
    strcpy(usernamebuf, username);
    if (strcmp(usernamebuf, "java") == 0)
    {
        authu = 1;
    }
    strcpy(passwordbuf, password);
    if (strcmp(passwordbuf, "password") == 0)
    {
        authp = 1;
    }
    printf("%d", authu);
    if (authu && authp)
    {
        return 1;
    }
    else
    {
        return 0;
    }
}

void printAmount(int amount)
{
    printf("\nThe balance amount in your account is === %d\n", amount);
}
int addMoney(int amount)
{
    printf("\nDebiting from your bank accounta and crediting it to wallet\n");
    return amount;
}

int withdraw(int accountnumber, int routingnumber, int amount)
{
    printf("\n Done , amount transfered");
    return amount;
}
void walletSystem()
{
    int amount = 200;
    while (1)
    {
        int option = 0;
        printf("\n ====== Please select an option below to continue ===\n[1] Get Account Balance\n[2] Add money\n[3] withdraw Money\n[4] Quit \n your option : ");
        scanf("%d", &option);
        switch (option)
        {
        case 1:
            printAmount(amount);
            break;
        case 2:
            printf("==== Add money === enter the amount to continue ");
            int amt = 0;
            scanf("%d", &amt);
            amount = amount + addMoney(amt);
            break;
        case 3:
            printf("=== withdraw money === enter the banking accountnumber ");
            int acc = 0;
            scanf("%d", &acc);
            printf("=== withdraw money === ente your routing number ");
            int route = 0;
            scanf("%d", &route);
            printf("=== withdraw money === amount ? ");
            int amtt = 0;
            scanf("%d", &amtt);
            amount = amount - withdraw(acc, route, amtt);
            break;
        case 4:
            exit(1);
        default:
            printf("\n Unknown command\n");
        }
    }
}

int main(int argc, const char *argv[])
{
    int pass = authenticated(argv[1], argv[2]);

    if (pass)
    {
        printf("\n============== Access GRANTED =========== \n");
        printf("\n============starting services ========= \n");
        walletSystem();
    }
    else
    {
        printf("\n USERNAME or PASSWORD is wrong\n");
    }

    return 0;
}