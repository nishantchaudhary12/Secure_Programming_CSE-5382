#include<stdio.h>
unsigned long int amount=1000,withdraw,deposit;
int authenticate(char *pin){
int pass=0;
char pinbuff[10];
strcpy(pinbuff,pin);
if(strcmp(pinbuff,"1633")==0){
pass=1;
}
return pass;
}
int main(){
int choice,pass=0;
char *buff[10];

printf("ATM Service \n");
printf("Please enter your password \n");
scanf("%s",&buff);

if(authenticate(buff)){
printf("PIN Verified \n");
pass=1;
}else{
   printf("Incorrect pin");
}
if(pass){
  printf("Please proceed on with your choice  \n");
  printf("1. Check Balance \n");
  printf("2. Withdraw \n " );
  printf("3. Deposit \n " );
  printf("4. Quit \n");
  scanf("%d",&choice);
 switch(choice){
   case 1:
      printf("Your current balance is $: ");
      printf("\n  %lu ",amount);
      break;
    case 2:
      printf("Please specify the withdrawal amount: \n");
      scanf("%lu",&withdraw);
     if(withdraw>amount){
      printf("Please specify an amount lesser than your balance \n");

     }else{
        amount=amount-withdraw;
        printf("\n Your current balance is : $ %lu",amount);
     } 
     break;
    case 3:
         printf("\n Please enter the deposit amount");
         scanf("%lu",&deposit);
         if(deposit == 0){
         printf("\n please specify a valid amount");
         }else{
            amount= amount+deposit;
            printf("Your current amount is: $ %lu",amount);
         }
         
        break;
    case 4:
         printf("Thank you");
         break;
    default:
         printf("Please enter a valid choice");
         break;    
        
 }    

}

   return 0;
}
