#include <cstdlib>
#include <iostream>
#include <cmath>

using namespace std;

void main_menu(); 

int main() 
{
    double checking_Account = 0.00;
    double savings_Account = 0.00;
    double withdraw;
    double deposit;
    int option = 0;
    int PIN = 0;
    int selection = 0;
    
     cout << "Please Enter Your 4 Digit ATM card PIN\n> ";
     cin >> PIN;

    
    main_menu();                  
    while(option != 4){             
    cout << "> ";              
    cin >> option;
    
    switch(option){
    case 1:
       cout << "Choose The Account You want to withdraw money from.\n"
       << "[1]  Checking\n"   
       << "[2]  Savings\n"
       << "[3]  Cancel\n> ";
       cin >> selection;          

      switch(selection){       
        case 1:               
        cout << "[[[WITHDRAW]]]\n"
             << "Must Be A Multiple Of $5.00\n>";
         cin >> withdraw;       
        while(fmod(withdraw,5.00)!=0){
          cout << "Not A Multiple Of $5.00. Try Again\n> ";
           cin >> withdraw;
        }
        if(withdraw > checking_Account){  
          cout << "Insufficient Funds In your checking account to Withdraw $" << withdraw << endl << endl;
        }else{
        checking_Account = checking_Account - withdraw;     
        }
        break;
        case 2:                
          cout << "[[[WITHDRAW]]]\n";
          cout << "Must be a multiple Of $5.00\n> ";
          cin >> withdraw;       
        while(fmod(withdraw,5.00)!=0){
          cout << "Not A Multiple Of $5.00. Try Again\n> ";
           cin >> withdraw;
        }
        if(withdraw > savings_Account){      
          cout << "Insufficient funds in your savings account. You can't withdraw $" << withdraw << endl << endl;
        }else{
        savings_Account = savings_Account - withdraw;      
        }
        break;
        case 3:               
        break;
        default:             
        cout << "Invalid option " << selection
             << " Try Again\n";
        cout << "Choose The Account from which you want to withdraw money\n"
             << "[1]  Checking\n"
             << "[2]  Savings\n"
             << "[3]  Cancel\n> ";
        cin >> selection;

        break;
    }                                   
    case 2:
    cout << "Choose the account in which you want to make a Deposit\n"
       << "[1]  Checking\n"   
       << "[2]  Savings\n"
       << "[3]  Cancel\n> ";
    cin >> selection;          

    switch(selection){      
      case 1:               
        cout << "[[[DEPOSIT]]]\n";
         cin >> deposit;
       checking_Account += deposit;     
        break;
      case 2:              
        cout << "[[[DEPOSIT]]]\n> ";
         cin >> deposit;
        savings_Account += deposit;      
        break;
      case 3:            
        break;
      default:          
        cout << "Invalid option " << selection
             << " Try Again\n";
        cout << "Choose The Account in which you want to withdraw money from\n"
             << "[1]  Checking\n"
             << "[2]  Savings\n"
             << "[3]  Cancel\n> ";
         cin >> selection;
         break;
    }                                                       
    case 3:
        cout << "Checking Balance: $" << checking_Account << endl;
        cout << "Savings Balance: $" << savings_Account << endl << endl;

    main_menu();   
        break;
    case 4:               
        break;
      default:                 
        cout << option << " Is not a valid "
             << "choice, please try again\n";
    }
  }  
    return EXIT_SUCCESS;
}

void main_menu(){          
  cout << "Please select the operation you'd like to perform today: \n"
       << "[1]  Withdrawal\n"
       << "[2]  Deposit\n"
       << "[3]  Check Balances\n"
       << "[4]  Quit\n";
}

