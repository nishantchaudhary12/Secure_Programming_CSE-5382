#include<stdio.h>
#include<string.h>
int authenticate(char *a, char *b);
void books_issued();
void withdraw_books();

int main(int argc, char *argv[]){

int choice;
char password[10];

char username[10] = "starlord";

strcpy(password, argv[1]);

if(authenticate(username, password)){

printf("Access Granted!!!!!");

printf("\n\t--------------------------------");
   printf("\n\t*****MENU*****");
   printf("\n\t1. LIST ISSUED BOOKS");
   printf("\n\t2. Withdraw A BOOK");
   printf("\n\t3. EXIT");
   printf("\n\t--------------------------------");
   printf("\n\n");
   checkpoint:
      printf("\nEnter your choice: ");
      scanf("%d",&choice);
      if(choice ==1){
         books_issued();
         goto checkpoint;
      }
      else if(choice == 2){
         withdraw_books();
         goto checkpoint;
      }
      else{
         printf("\nGoing to Exit\n\n");
         return 0;
      }

}

return 0;
}

int authenticate(char username[10], char *password){

int flag = 0;

char pass_buf[10];

strcpy(pass_buf,password);

if(strcmp(pass_buf, "shitty_password"))

flag = 1;

return flag;

}

void books_issued(){
   printf("\n1. [ID:2730] Datastructures, Algorithms and applications in C++ by Sartaj Sahni\n");
}

void withdraw_books(){
   printf("\n Book with ID: 2730 Successfully withdrawn.\n");
}

